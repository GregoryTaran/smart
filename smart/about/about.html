<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–û –ø—Ä–æ–µ–∫—Ç–µ ‚Ä¢ SMART VISION</title>

  <base href="/" />

  <!-- –°—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="/about/about.css" />

  <!-- üî• –ì–ª–∞–≤–Ω—ã–π init: —Å–µ—Å—Å–∏—è, —Ç–æ–ø–±–∞—Ä, –º–µ–Ω—é, —Ñ—É—Ç–µ—Ä -->
  <script type="module" src="/js/smartid.init.js"></script>

  <!-- –ú–æ–¥—É–ª—å –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π (4 –∫–Ω–æ–ø–∫–∏) -->
  <script defer src="/js/zaprosrazreshenijbrauzera.js"></script>

  <!-- –ì–µ–æ-–≤–∏–¥–∂–µ—Ç (SVFooter.mount –¥–ª—è geo-card) -->
  <script defer src="/js/footer.geo.bundle.js"></script>
</head>

<body>
  <div id="page">
    <aside id="sidebar" aria-label="–û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é"></aside>

    <div id="app">
      <header id="topbar"></header>

      <main id="main">

        <!-- 1. –û –ü–†–û–ï–ö–¢–ï -->
        <section class="card">
          <h1 class="card-title">–û –ø—Ä–æ–µ–∫—Ç–µ</h1>
          <p>
            –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ SMART VISION. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –±—Ä–∞—É–∑–µ—Ä–∞,
            —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
          </p>
        </section>

        <!-- 2. –†–ê–ó–†–ï–®–ï–ù–ò–Ø -->
        <section class="card">
          <h2>–†–∞–∑—Ä–µ—à–µ–Ω–∏—è</h2>

          <div class="stack-16">
            <button class="btn-purple" id="btnMic">–†–∞–∑—Ä–µ—à–∏—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω</button>
            <button class="btn-purple" id="btnCam">–†–∞–∑—Ä–µ—à–∏—Ç—å –∫–∞–º–µ—Ä—É</button>
            <button class="btn-purple" id="btnNoti">–†–∞–∑—Ä–µ—à–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</button>
            <button class="btn-purple" id="btnGeo">–†–∞–∑—Ä–µ—à–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é</button>
          </div>

          <p id="permStatus" class="muted">status: idle</p>
        </section>

        <!-- 3. –ì–ï–û–õ–û–ö–ê–¶–ò–Ø -->
        <section class="card">
          <h2>–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è</h2>
          <p class="muted">
            –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞. –î–∞–Ω–Ω—ã–µ –Ω–∏–∫—É–¥–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è,
            –≤—Å—ë –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
          </p>

          <div id="geo-card"></div>

          <script>
            document.addEventListener("DOMContentLoaded", () => {
              try {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –≥–µ–æ-–≤–∏–¥–∂–µ—Ç –∏–∑ footer.geo.bundle.js
                SVFooter.mount("geo-card");
              } catch (e) {
                console.warn("SVFooter geo mount error:", e);
              }
            });
          </script>
        </section>

        <!-- 4. –ë–û–õ–¨–®–û–ô –ò–ù–§–û–†–ú–ï–† -->
        <section class="card">
          <h2>–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Ñ–æ—Ä–º–µ—Ä</h2>
          <p class="muted">
            –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∞—É–∑–µ—Ä–µ, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö.
            –ù—É–∂–Ω–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.
          </p>

          <div id="about-informer" class="big-informer">
            –ó–∞–≥—Ä—É–∑–∫–∞ —Å—É–ø–µ—Ä-–∏–Ω—Ñ–æ—Ä–º–µ—Ä–∞...
          </div>

          <script type="module">
            import { collectSuperInfo } from "/js/super-informer.js";

            function block(title, data) {
              return `
                <div class="inf-group">
                  <h3>${title}</h3>
                  <pre>${JSON.stringify(data, null, 2)}</pre>
                </div>
              `;
            }

            async function renderSuper() {
              try {
                const info = await collectSuperInfo();
                const root = document.querySelector("#about-informer");
                if (!root) return;

                root.innerHTML = `
                  ${block("SV_AUTH", info.svAuth)}
                  ${block("Public IP", info.publicIP)}
                  ${block("Permissions", info.permissions)}
                  ${block("Battery", info.battery)}
                  ${block("Device", info.device)}
                  ${block("Screen", info.screen)}
                  ${block("Network", info.network)}
                  ${block("Storage", info.storage)}
                  ${block("WebGL (GPU)", info.webgl)}
                  ${block("Timestamp", info.timestamp)}
                `;
              } catch (e) {
                const root = document.querySelector("#about-informer");
                if (root) {
                  root.textContent = "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.";
                }
                console.error("super-informer error:", e);
              }
            }

            document.addEventListener("DOMContentLoaded", renderSuper);
          </script>
        </section>

      </main>

      <!-- 5. –ù–ò–ñ–ù–ò–ô –§–£–¢–ï–†, –ö–ê–ö –í–ï–ó–î–ï -->
      <footer id="footer"></footer>
    </div>
  </div>

  <div id="overlay"></div>

  <!-- –î–æ–ø. –ª–æ–≥–∏–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è) -->
  <script type="module" src="/about/about.js"></script>
</body>
</html>
