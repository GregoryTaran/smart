/* smart/css/app.css
   Core layout + fixed header + mobile overlay menu + visual polish
*/

/* -------- Vars & base -------- */
:root{
  --site-max: 1100px;
  --accent: #197f6f;
  --accent-600: #186b59;
  --muted: #6b7280;
  --surface: #ffffff;
  --bg: #fafafa;
  --shadow-1: 0 8px 24px rgba(16,24,32,0.06);
  --card-border: rgba(16,24,32,0.04);
  --radius: 10px;
  --gutter: 16px;
  --topbar-h: 72px;           /* height for header on desktop */
  --topbar-h-mobile: 80px;    /* allow larger area for mobile logo and toggle */
  --transition-fast: 160ms ease;
}

/* Base */
*{box-sizing:border-box}
body{
  margin:0;
  font-family: Inter, "Helvetica Neue", Arial, sans-serif;
  color:#111827;
  background:var(--bg);
  -webkit-font-smoothing:antialiased;
  line-height:1.45;
}

/* PAGE SHELL */
.site-wrapper{ min-height:100vh; display:flex; align-items:stretch; width:100%;}

/* LEFT MENU (desktop) */
.site-menu{
  width: clamp(210px, 18%, 300px);
  background:var(--surface);
  border-right:1px solid #eee;
  padding: 20px 14px;
  overflow:auto;
  transition: transform var(--transition-fast);
}

/* Menu list */
.site-menu nav ul{ list-style:none; padding:0; margin:6px 0; }
.site-menu nav li{ margin:8px 0; }
.site-menu a{
  color:#0b4860;
  text-decoration:none;
  font-weight:500;
  display:block;
  padding:8px 10px;
  border-radius:8px;
}
.site-menu a:hover{ background:rgba(25,127,111,0.06); color:var(--accent-600); }
.site-menu a.active{ background: #f2f2f2; color: #0b4860; }

/* RIGHT COLUMN: header / main / footer (vertical stack) */
.right-col{
  flex:1 1 auto;
  display:flex;
  flex-direction:column;
  min-height:100vh;
  background:transparent;
  /* ADD padding-top equal to header height — header is fixed */
  padding-top: var(--topbar-h);
}

/* -------- TOPBAR fixed at top -------- */
.site-topbar{
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--topbar-h);
  z-index: 1200;
  background: var(--surface);
  border-bottom:1px solid #eee;
  display:block;
  box-shadow: 0 1px 0 rgba(0,0,0,0.02);
}

/* inner container — three columns */
.site-topbar .topbar-inner{
  display: grid;
  grid-template-columns: 48px 1fr 48px;
  align-items: center;
  gap: 8px;
  width:100%;
  max-width: var(--site-max);
  margin:0 auto;
  padding: 0 16px;
  box-sizing: border-box;
}

.site-topbar .topbar-left{ justify-self:start; }
.site-topbar .topbar-center{ justify-self:center; text-align:center; }
.site-topbar .topbar-right{ justify-self:end; }

/* LOGO size: max-width to control scale (300 desktop, 220 mobile) */
.top-logo-link img, #site-logo {
  display:inline-block;
  width:auto;
  max-width:300px;  /* desktop */
  height:auto;
}

/* menu toggle */
.menu-toggle{
  display:none; /* shown on mobile with media query */
  background:none;
  border:none;
  font-size:22px;
  cursor:pointer;
  padding:6px;
}

/* small top actions */
.top-actions{ display:inline-flex; gap:8px; align-items:center; }

/* -------- MAIN (scrollable) -------- */
.site-main{
  flex:1 1 auto;
  min-height:0;  /* important for inner scroll */
  overflow:auto;
  width:100%;
  background:transparent;
}

.content-inner{
  max-width:var(--site-max);
  margin:0 auto;
  padding: 28px 20px;
}

/* Demo card styling */
.demo-card, .card, .page-card{
  background:var(--surface);
  border-radius:var(--radius);
  padding:18px;
  box-shadow:var(--shadow-1);
  border:1px solid var(--card-border);
}

/* Buttons */
button, .btn{ font:inherit; padding:8px 12px; border-radius:8px; border:1px solid rgba(0,0,0,0.06); background:#fff; cursor:pointer; }
.btn--primary{ background:var(--accent); color:#fff; border-color:rgba(0,0,0,0.06); box-shadow:0 8px 20px rgba(25,127,111,0.12); }

/* OUTPUT */
.output { background:#0b0b0b; color:#0f0; padding:12px; border-radius:8px; max-width:900px; margin:12px auto 0; overflow:auto; white-space:pre-wrap; }

/* FOOTER (in normal flow) */
.site-footer{
  border-top:1px solid #eee;
  padding:16px 12px;
  background:var(--surface);
}
.footer-inner{
  display:grid;
  grid-template-columns:1fr auto 1fr;
  align-items:center;
  max-width:var(--site-max);
  margin:0 auto;
  gap:8px;
  padding:0 8px;
}
.footer-inner .footer-center{ text-align:center; }
.footer-inner .footer-left{ text-align:left; color:var(--muted); }
.footer-inner .footer-right{ text-align:right; }

/* -------- MOBILE: overlay menu, logo scale, show toggle -------- */
@media (max-width: 900px){
  :root{ --topbar-h: var(--topbar-h-mobile); } /* bump header height mobile */
  .right-col{ padding-top: var(--topbar-h-mobile); }

  /* hide left column normally */
  .site-menu{ display:none; }

  /* show hamburger */
  .menu-toggle{ display:inline-block; }

  /* reduce logo max width */
  .top-logo-link img, #site-logo { max-width:220px; }

  /* overlay menu behavior when body has .menu-open */
  /* default overlay styles - created from same #site-menu container */
  /* we will toggle body.menu-open to show overlay */
  #site-menu {
    /* keep hidden by default on mobile */
    position: fixed;
    left: -110%;
    top: var(--topbar-h-mobile);
    height: calc(100% - var(--topbar-h-mobile));
    width: 75%;
    max-width: 420px;
    background: var(--surface);
    box-shadow: 6px 0 30px rgba(0,0,0,0.12);
    transition: transform 220ms ease, left 220ms ease;
    z-index: 1300;
    overflow:auto;
    padding: 18px;
    transform: translateX(-8px);
  }

  /* show when open */
  body.menu-open #site-menu {
    left: 0;
    transform: translateX(0);
  }

  /* overlay backdrop (semi-transparent) */
  .mobile-menu-backdrop {
    display:none;
    position: fixed;
    inset: 0;
    top: var(--topbar-h-mobile);
    background: rgba(0,0,0,0.32);
    z-index: 1290;
  }
  body.menu-open .mobile-menu-backdrop { display:block; }

  /* close button visible in overlay */
  .menu-close {
    display:block;
    position:absolute;
    right:12px;
    top:10px;
    background: none;
    border: 1px solid rgba(0,0,0,0.06);
    padding:6px 8px;
    border-radius:8px;
    cursor:pointer;
  }

  /* menu items vertically centered in overlay */
  #site-menu nav {
    display:flex;
    flex-direction:column;
    justify-content:center;
    min-height: calc(100% - 40px);
    gap: 12px;
  }
  #site-menu nav a { font-size:18px; padding:10px 8px; }

  /* hide left menu indicator on desktop style */
  .site-menu[role="navigation"]{ /* noop fallback */ }

  /* active item highlight */
  #site-menu a.active{ background:#f2f2f2; }
}

/* defensive: ensure no heavy global resets here */
