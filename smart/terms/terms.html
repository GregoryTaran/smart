<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<base href="../" />
<title>–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</title>

<link rel="icon" href="assets/logo400.jpg" />
<link rel="manifest" href="manifest.json" />
<link rel="stylesheet" href="css/main.css" />
<link rel="stylesheet" href="terms/terms.css" />


 <!--
    üß† –ì–ª–æ–±–∞–ª—å–Ω—ã–π bootstrap –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å –∫—ç—à–µ–º.
    1) –ü—Ä–æ–±—É–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫—ç—à –∏–∑ localStorage (–º–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –¥–ª—è UI)
    2) –í —Ñ–æ–Ω–µ –¥—ë—Ä–≥–∞–µ—Ç /api/auth/session, –æ–±–Ω–æ–≤–ª—è–µ—Ç window.SV_AUTH –∏ –∫—ç—à
    3) –í—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö –∫—É–∫–∏ sv_session (—Å–µ—Ä–≤–µ—Ä –æ—Å—Ç–∞—ë—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø—Ä–∞–≤–¥—ã)
  -->
  <script>
    (function () {
      const AUTH_CACHE_KEY = 'sv.auth.cache.v1';

      // –ë–∞–∑–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: –≥–æ—Å—Ç—å
      window.SV_AUTH = {
        isAuthenticated: false,
        userId: null,
        level: 1,
        levelCode: 'guest',
        email: null,
        displayName: null,
        loaded: false
      };

      function normalizeSession(data) {
        data = data || {};
        const isAuth = !!data.is_authenticated;
        let level = Number(data.level);
        if (!Number.isFinite(level) || level <= 0) {
          level = isAuth ? 2 : 1;
        }
        const levelCode = data.level_code || (level === 1 ? 'guest' : 'user');

        return {
          isAuthenticated: isAuth,
          userId: data.user_id ?? null,
          level: level,
          levelCode: levelCode,
          email: data.email ?? null,
          displayName: data.display_name ?? null,
          loaded: true
        };
      }

      function dispatchAuthReady() {
        try {
          document.dispatchEvent(
            new CustomEvent('sv:auth-ready', { detail: window.SV_AUTH })
          );
        } catch (e) {
          console.warn('sv:auth-ready dispatch failed', e);
        }
      }

      function readCache() {
        try {
          const raw = localStorage.getItem(AUTH_CACHE_KEY);
          if (!raw) return null;
          const parsed = JSON.parse(raw);
          if (!parsed || typeof parsed !== 'object') return null;
          return parsed;
        } catch (e) {
          return null;
        }
      }

      function writeCache(session) {
        try {
          localStorage.setItem(AUTH_CACHE_KEY, JSON.stringify(session));
        } catch (e) {
          // localStorage –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî —Ç–∏—Ö–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º
        }
      }

      // 1) –ü—ã—Ç–∞–µ–º—Å—è –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –ø–æ–¥–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ –∫—ç—à–∞
      (function hydrateFromCache() {
        const cached = readCache();
        if (!cached) return;
        // –°—á–∏—Ç–∞–µ–º –∫—ç—à —É–∂–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º SV_AUTH
        window.SV_AUTH = Object.assign({}, cached, { loaded: true });
        dispatchAuthReady();
      })();

      // 2) –í —Ñ–æ–Ω–µ —Ç—è–Ω–µ–º —Å–≤–µ–∂—É—é —Å–µ—Å—Å–∏—é —Å –±—ç–∫–µ–Ω–¥–∞
      fetch('/api/auth/session', {
        method: 'GET',
        credentials: 'include'
      })
        .then(function (res) {
          if (!res.ok) throw new Error('Auth check failed');
          return res.json();
        })
        .then(function (data) {
          const session = normalizeSession(data);
          window.SV_AUTH = session;
          writeCache(session);
          dispatchAuthReady();
        })
        .catch(function (err) {
          console.warn('Auth bootstrap failed', err);
          // –ï—Å–ª–∏ –∫—ç—à–∞ –Ω–µ –±—ã–ª–æ –∏ –º—ã –≤—Å—ë –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã ‚Äî –æ—Å—Ç–∞—ë–º—Å—è –≥–æ—Å—Ç–µ–º
          if (!window.SV_AUTH.loaded) {
            const guest = normalizeSession({});
            window.SV_AUTH = guest;
            writeCache(guest);
            dispatchAuthReady();
          }
        });
    })();
  </script>

  <!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–ø–±–∞—Ä–∞/–º–µ–Ω—é –∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ -->
  <script type="module">
    import { initPage } from './js/topbar.module.js';
    initPage({
      fragments: [['menu.html', '#sidebar']],
      cacheBust: false,
      topbar: { state: { logoHref: 'index.html', logoSrc: 'assets/logo400.jpg' } }
    });
  </script>


</head>
<body>
<div id="page">
  <aside id="sidebar" aria-label="–û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é"></aside>
  <div id="app">
    <header id="topbar" role="banner"></header>
    <main id="main" role="main">
      <section class="doc">
        <h1>–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h1>
        <p>–ù–∞—Å—Ç–æ—è—â–∏–µ —É—Å–ª–æ–≤–∏—è –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –ø–æ—Ä—è–¥–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∞–π—Ç–∞ SMART VISION –∏ –µ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤. –ò—Å–ø–æ–ª—å–∑—É—è —Å–∞–π—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Å–æ–≥–ª–∞—Å–∏–µ —Å —ç—Ç–∏–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏.</p>

        <h2>1. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è</h2>
        <p>–°–∞–π—Ç SMART VISION –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º –∏ –¥—Ä—É–≥–∏–º —Ä–µ—Å—É—Ä—Å–∞–º. –í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è ¬´–∫–∞–∫ –µ—Å—Ç—å¬ª, –±–µ–∑ –≥–∞—Ä–∞–Ω—Ç–∏–π –∏—Ö —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏–ª–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.</p>

        <h2>2. –ü—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h2>
        <ul>
          <li>–ù–µ –Ω–∞—Ä—É—à–∞—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∞–π—Ç–∞ –∏ –Ω–µ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–π, –≤–µ–¥—É—â–∏—Ö –∫ —Å–±–æ—è–º –∏–ª–∏ —É—Ç–µ—á–∫–µ –¥–∞–Ω–Ω—ã—Ö.</li>
          <li>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã ‚Äî —Ç–æ–ª—å–∫–æ –≤ –ª–∏—á–Ω—ã—Ö, –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö.</li>
        </ul>

        <h2>3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</h2>
        <p>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ –Ω–µ—Å—ë—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ —É–±—ã—Ç–∫–∏, –≤–æ–∑–Ω–∏–∫—à–∏–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–ª–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∞–π—Ç–∞.</p>

        <h2>4. –í–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏</h2>
        <p>–°–∞–π—Ç –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã, –∑–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç.</p>

        <h2>5. –ò–∑–º–µ–Ω–µ–Ω–∏—è —É—Å–ª–æ–≤–∏–π</h2>
        <p>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —É—Å–ª–æ–≤–∏—è. –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –≤—Å—Ç—É–ø–∞–µ—Ç –≤ —Å–∏–ª—É —Å –º–æ–º–µ–Ω—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ <code>terms.html</code>.</p>

        <h2>6. –ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
        <p>–ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∞–π—Ç–∞: <a href="mailto:info@smartvision.life">info@smartvision.life</a>.</p>
      </section>
    </main>
    <footer id="footer" role="contentinfo"></footer>
  </div>
</div>

<div id="overlay" hidden></div>

<!-- –æ–±—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã -->
<script defer src="js/footer.js?v=2"></script>
<script defer src="terms/terms.js"></script>


</body>
</html>
