<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- –ë–ê–ó–ê –î–õ–Ø –í–°–ï–• –ü–£–¢–ï–ô –í–ù–£–¢–†–ò /smart -->
  <base href="../" />

  <title>–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</title>

  <link rel="icon" href="assets/logo400.jpg" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="css/main.css" />
  <link rel="stylesheet" href="privacy/privacy.css" />


  <!--
    üß† –ì–ª–æ–±–∞–ª—å–Ω—ã–π bootstrap –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å –∫—ç—à–µ–º.
    1) –ü—Ä–æ–±—É–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫—ç—à –∏–∑ localStorage (–º–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –¥–ª—è UI)
    2) –í —Ñ–æ–Ω–µ –¥—ë—Ä–≥–∞–µ—Ç /api/auth/session, –æ–±–Ω–æ–≤–ª—è–µ—Ç window.SV_AUTH –∏ –∫—ç—à
    3) –í—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö –∫—É–∫–∏ sv_session (—Å–µ—Ä–≤–µ—Ä –æ—Å—Ç–∞—ë—Ç—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø—Ä–∞–≤–¥—ã)
  -->
  <script>
    (function () {
      const AUTH_CACHE_KEY = 'sv.auth.cache.v1';

      // –ë–∞–∑–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: –≥–æ—Å—Ç—å
      window.SV_AUTH = {
        isAuthenticated: false,
        userId: null,
        level: 1,
        levelCode: 'guest',
        email: null,
        displayName: null,
        loaded: false
      };

      function normalizeSession(data) {
        data = data || {};
        const isAuth = !!data.is_authenticated;
        let level = Number(data.level);
        if (!Number.isFinite(level) || level <= 0) {
          level = isAuth ? 2 : 1;
        }
        const levelCode = data.level_code || (level === 1 ? 'guest' : 'user');

        return {
          isAuthenticated: isAuth,
          userId: data.user_id ?? null,
          level: level,
          levelCode: levelCode,
          email: data.email ?? null,
          displayName: data.display_name ?? null,
          loaded: true
        };
      }

      function dispatchAuthReady() {
        try {
          document.dispatchEvent(
            new CustomEvent('sv:auth-ready', { detail: window.SV_AUTH })
          );
        } catch (e) {
          console.warn('sv:auth-ready dispatch failed', e);
        }
      }

      function readCache() {
        try {
          const raw = localStorage.getItem(AUTH_CACHE_KEY);
          if (!raw) return null;
          const parsed = JSON.parse(raw);
          if (!parsed || typeof parsed !== 'object') return null;
          return parsed;
        } catch (e) {
          return null;
        }
      }

      function writeCache(session) {
        try {
          localStorage.setItem(AUTH_CACHE_KEY, JSON.stringify(session));
        } catch (e) {
          // localStorage –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî —Ç–∏—Ö–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º
        }
      }

      // 1) –ü—ã—Ç–∞–µ–º—Å—è –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –ø–æ–¥–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ –∫—ç—à–∞
      (function hydrateFromCache() {
        const cached = readCache();
        if (!cached) return;
        // –°—á–∏—Ç–∞–µ–º –∫—ç—à —É–∂–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º SV_AUTH
        window.SV_AUTH = Object.assign({}, cached, { loaded: true });
        dispatchAuthReady();
      })();

      // 2) –í —Ñ–æ–Ω–µ —Ç—è–Ω–µ–º —Å–≤–µ–∂—É—é —Å–µ—Å—Å–∏—é —Å –±—ç–∫–µ–Ω–¥–∞
      fetch('/api/auth/session', {
        method: 'GET',
        credentials: 'include'
      })
        .then(function (res) {
          if (!res.ok) throw new Error('Auth check failed');
          return res.json();
        })
        .then(function (data) {
          const session = normalizeSession(data);
          window.SV_AUTH = session;
          writeCache(session);
          dispatchAuthReady();
        })
        .catch(function (err) {
          console.warn('Auth bootstrap failed', err);
          // –ï—Å–ª–∏ –∫—ç—à–∞ –Ω–µ –±—ã–ª–æ –∏ –º—ã –≤—Å—ë –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã ‚Äî –æ—Å—Ç–∞—ë–º—Å—è –≥–æ—Å—Ç–µ–º
          if (!window.SV_AUTH.loaded) {
            const guest = normalizeSession({});
            window.SV_AUTH = guest;
            writeCache(guest);
            dispatchAuthReady();
          }
        });
    })();
  </script>

  <!-- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–æ–ø–±–∞—Ä–∞/–º–µ–Ω—é –∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ -->
  <script type="module">
    import { initPage } from './js/topbar.module.js';
    initPage({
      fragments: [['menu.html', '#sidebar']],
      cacheBust: false,
      topbar: { state: { logoHref: 'index.html', logoSrc: 'assets/logo400.jpg' } }
    });
  </script>

</head>
<body>
  <div id="page">
    <aside id="sidebar" aria-label="–û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é"></aside>
    <div id="app">
      <header id="topbar" role="banner"></header>
      <main id="main" role="main">
        <section class="doc">
          <h1>–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</h1>
          <p>
            –î–∞–Ω–Ω—ã–π –≤–µ–±-—Å–∞–π—Ç SMART VISION —É–≤–∞–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π –∏ –æ–±—è–∑—É–µ—Ç—Å—è –∑–∞—â–∏—â–∞—Ç—å –ª–∏—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
            –ù–∞—Å—Ç–æ—è—â–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç —Å–æ–±–∏—Ä–∞—Ç—å—Å—è, –∫–∞–∫ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ –∫–∞–∫ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –∏—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.
          </p>

          <h2>1. –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</h2>
          <p>
            –ú—ã –º–æ–∂–µ–º —Å–æ–±–∏—Ä–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (—Ç–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –±—Ä–∞—É–∑–µ—Ä, IP-–∞–¥—Ä–µ—Å) –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∞–π—Ç–∞.
            –í —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏) –º–æ–≥—É—Ç –±—ã—Ç—å —Å–æ–±—Ä–∞–Ω—ã –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω–æ.
          </p>

          <h2>2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</h2>
          <p>
            –°–æ–±—Ä–∞–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è:
            —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Å–µ—Ä–≤–∏—Å–∞, –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞ –∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.
            –ú—ã –Ω–µ –ø–µ—Ä–µ–¥–∞—ë–º –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º –±–µ–∑ –≤–∞—à–µ–≥–æ —Å–æ–≥–ª–∞—Å–∏—è, –∫—Ä–æ–º–µ —Å–ª—É—á–∞–µ–≤, –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º.
          </p>

          <h2>3. –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞—â–∏—Ç–∞</h2>
          <p>
            –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö. –ú—ã –ø—Ä–∏–º–µ–Ω—è–µ–º —Ä–∞–∑—É–º–Ω—ã–µ –º–µ—Ä—ã –∑–∞—â–∏—Ç—ã –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞,
            –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–ª–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
          </p>

          <h2>4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ cookie</h2>
          <p>
            –°–∞–π—Ç –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cookie –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π.
            –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–∫–ª—é—á–∏—Ç—å cookie –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞.
          </p>

          <h2>5. –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª–∏—Ç–∏–∫–∏</h2>
          <p>
            –ü–æ–ª–∏—Ç–∏–∫–∞ –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
            –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ —Å—Å—ã–ª–∫–µ <code>privacy.html</code>.
          </p>

          <h2>6. –ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
          <p>
            –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º, —Å–≤—è–∑–∞–Ω–Ω—ã–º —Å –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å—é, –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É:
            <a href="mailto:support@smartvision.life">support@smartvision.life</a>.
          </p>
        </section>
      </main>
      <footer id="footer" role="contentinfo"></footer>
    </div>
  </div>

  <!-- –û–≤–µ—Ä–ª–µ–π –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é -->
  <div id="overlay" hidden></div>

  <!-- ==== –ù–∏–∂–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –æ—Å—Ç–∞–≤–ª—è–µ–º ==== -->
  <script defer src="js/footer.js?v=2"></script>
  <script defer src="js/register-sw.js"></script>
  <script defer src="privacy/privacy.js"></script>


  

</body>
</html>
