# üöÄ SMART VISION --- –ú–æ–¥—É–ª—å ¬´–í–∏–∑–∏–∏¬ª

–ü–æ–ª–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è\
–í–µ—Ä—Å–∏—è: 1.0\
–§–æ—Ä–º–∞—Ç: Markdown

## üìò 1. –û–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥—É–ª—è

–ú–æ–¥—É–ª—å **–í–ò–ó–ò–ò (Vision Module)** –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ, –≤–µ–¥–µ–Ω–∏–µ –∏
—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º–∏ –≤–∏–∑–∏—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.\
–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ª—é–¥–µ–π –∏
–ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞.

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏: - –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑–∏–∏\
- –í–µ–¥–µ–Ω–∏–µ —à–∞–≥–æ–≤\
- –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –ò–ò\
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤\
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏\
- –ê—Ä—Ö–∏–≤–∞—Ü–∏—è\
- –£–¥–∞–ª–µ–Ω–∏–µ

## üß© 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### 2.1. –¢–∞–±–ª–∏—Ü–∞ `visions`

  –ü–æ–ª–µ          –¢–∏–ø           –û–ø–∏—Å–∞–Ω–∏–µ
  ------------- ------------- ----------
  id            uuid          ID –≤–∏–∑–∏–∏
  owner_id      uuid          –í–ª–∞–¥–µ–ª–µ—Ü
  title         text          –ù–∞–∑–≤–∞–Ω–∏–µ
  description   text          –û–ø–∏—Å–∞–Ω–∏–µ
  created_at    timestamptz   –°–æ–∑–¥–∞–Ω–æ
  updated_at    timestamptz   –ò–∑–º–µ–Ω–µ–Ω–æ
  archived      boolean       –ê—Ä—Ö–∏–≤

### 2.2. –¢–∞–±–ª–∏—Ü–∞ `vision_participants`

  –ü–æ–ª–µ        –¢–∏–ø           –û–ø–∏—Å–∞–Ω–∏–µ
  ----------- ------------- --------------------------
  vision_id   uuid          ID –≤–∏–∑–∏–∏
  user_id     uuid          ID —É—á–∞—Å—Ç–Ω–∏–∫–∞
  role        text          owner / participant / ai
  added_at    timestamptz   –î–∞—Ç–∞

### –†–æ–ª–∏

  –†–æ–ª—å          –û–ø–∏—Å–∞–Ω–∏–µ
  ------------- -------------------
  owner         –í—Å–µ –ø—Ä–∞–≤–∞
  participant   –ú–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å —à–∞–≥–∏
  ai            –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç

### 2.3. –¢–∞–±–ª–∏—Ü–∞ `vision_steps`

  –ü–æ–ª–µ         –¢–∏–ø           –û–ø–∏—Å–∞–Ω–∏–µ
  ------------ ------------- ------------------------
  id           bigint        ID —à–∞–≥–∞
  vision_id    uuid          –í–∏–∑–∏—è
  user_id      uuid          –ê–≤—Ç–æ—Ä
  user_text    text          –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  ai_text      text          –°–æ–æ–±—â–µ–Ω–∏–µ AI
  created_at   timestamptz   –í—Ä–µ–º—è

### 2.4. –¢–∞–±–ª–∏—Ü–∞ `smart_users`

  –ü–æ–ª–µ    –û–ø–∏—Å–∞–Ω–∏–µ
  ------- ----------
  id      UUID
  email   –õ–æ–≥–∏–Ω
  name    –ò–º—è
  role    –†–æ–ª—å
  level   –£—Ä–æ–≤–µ–Ω—å

## üîê 3. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞—Å—Ç–æ–º–Ω—É—é –º–æ–¥–µ–ª—å:

-   –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è `SMART_SESSION`\
-   —Å–µ—Ä–≤–µ—Ä *–Ω–µ* –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–∫–µ–Ω—ã\
-   —Å–µ—Ä–≤–µ—Ä –¥–æ–≤–µ—Ä—è–µ—Ç `user_id`, –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–º—É –≤ –∑–∞–ø—Ä–æ—Å–µ

``` js
window.SMART_SESSION = {
  user_id, email, name, role, level
}
```

## üõ° 4. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

Owner: - —á–∏—Ç–∞—Ç—å, –ø–∏—Å–∞—Ç—å —à–∞–≥–∏\
- –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å\
- –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å\
- —É–¥–∞–ª—è—Ç—å\
- –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

Participant: - —á–∏—Ç–∞—Ç—å\
- –ø–∏—Å–∞—Ç—å —à–∞–≥–∏

AI: - –ø–∏—Å–∞—Ç—å —à–∞–≥–∏

## üì° 5. API

### POST /vision/create

### POST /vision/add_participant

### POST /vision/remove_participant

### GET /vision/get_participants

### GET /vision/list

### GET /vision/{vision_id}

### POST /vision/step

### POST /vision/rename

### POST /vision/archive

### POST /vision/delete

## üß™ 6. –û—à–∏–±–∫–∏

  –ö–æ–¥   –ü—Ä–∏—á–∏–Ω–∞
  ----- -------------------------
  401   user_id –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω
  404   –≤–∏–∑–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
  403   –Ω–µ—Ç –ø—Ä–∞–≤
  400   email –Ω–µ –Ω–∞–π–¥–µ–Ω
  409   —É—á–∞—Å—Ç–Ω–∏–∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

## üéâ –ò—Ç–æ–≥–∏

-   –≥–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–∏–∑–∏–π\
-   Supabase SDK\
-   AI —É—á–∞—Å—Ç–Ω–∏–∫\
-   –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
